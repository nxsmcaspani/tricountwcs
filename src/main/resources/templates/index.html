<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
	<head th:replace="fragments/header.html :: head">
	</head>
	<body>
	<header th:replace="fragments/header.html :: header"></header>
	<section>
		<th id="content" class="p-4 p-md-5 pt-5">
			<h1 class="text-center text-primary m-4">All shared expenses</h1>
			<div class="text-center">
				<a class="text-decoration-none" href="/createlist">
					<button type="button" class="btn btn-labeled btn-rounded btn-success text-white" title="Create expense list">
						<span class="btn-label"><i class="bi-plus-circle-fill"></i> Create a shared expense list</span>
					</button>
				</a>
			</div>
			<hr class="col-md-4 offset-md-4 border-2 border-top border-warning mt-3"><br />
			<th:block th:each="expenses, state : ${expenseslistsdto}">
	<!--			Bootstrap modal div for confirmation windows pop-up -->
				<div class="modal fade" id="confirm-delete" tabindex="-1" role="dialog" aria-labelledby="deleteListLabel" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="deleteListLabel">Confirm Delete</h5>
								<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
							</div>
							<div class="modal-body">
								<p>You are about to delete an expense list, this action cannot be undone.</p>
								<p>Do you want to proceed?</p>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
								<a class="btn btn-danger btn-ok">Delete</a>
							</div>
						</div>
					</div>
				</div>
				<div class="row mt-5">
					<div class="col-md-8 offset-md-2 col-xs-10 offset-xs-1">
						<h2 class="text-center text-warning" th:text="${expenses.name}"></h2>
						<h4 class="text-center">
							<a class="text-decoration-none" th:href="@{/updatelist/{id}(id=${expenses.id})}">
								<button type="button" class="btn btn-labeled btn-success">
									<span class="btn-label"><i class="bi-pencil"></i> Edit List</span></button>
							</a>
							<a class="text-decoration-none" th:href="@{/expenselistdetails/{id}(id=${expenses.id})}">
								<button type="button" class="btn btn-labeled btn-primary">
									<span class="btn-label"><i class="bi-binoculars-fill"></i> List details</span></button>
							</a>
							<a class="text-decoration-none" th:data-href="@{/expenseslist/delete/{idList}(idList=${expenses.id})}" data-bs-toggle="modal" data-bs-target="#confirm-delete">
								<button type="button" class="btn btn-labeled btn-danger">
									<span class="btn-label"><i class="bi-trash"></i> Delete List</span></button>
							</a>
						</h4>
						<table class="table table-striped">
							<thead>
								<tr>
									<th>Last expenses</th>
									<th>Made by</th>
									<th>Amount</th>
									<th>View</th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="expense : ${expenses.idExpenses}">
									<td th:text="${expense.name}">Expense Name</td>
									<td th:text="${expense.owner.name}">Expense owner</td>
									<td th:text="${expense.amount}">Expense amount</td>
									<td>
										<a class="text-decoration-none" th:href="@{/expense/{id}(id=${expense.id})}">
											<button type="button" class="btn btn-labeled btn-primary">
												<span class="btn-label"><i class="bi-binoculars-fill"></i></span></button>
										</a>
									</td>
								</tr>
							</tbody>
						</table>
						<div class="align-items-end">
							<a class="text-decoration-none" th:href="@{/createexpense/{id}(id=${expenses.id})}">
								<button type="button" class="btn btn-labeled btn-rounded btn-warning text-white" title="Add an expense to this list">
									<span class="btn-label"><i class="bi-plus-circle-fill"></i> Add an expense</span>
								</button>
							</a>
						</div>
					</div>
				</div>
			</th:block>
			<hr class="col-md-4 offset-md-4 border-2 border-top border-warning mt-3"><br />
		</div>
	</section>

	<footer class="footer" th:replace="fragments/footer.html :: tail"></footer>
	</body>
</html>

